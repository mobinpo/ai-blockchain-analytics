# =============================================================================
# Mailgun Onboarding Email Configuration
# =============================================================================

# Basic Mailgun Configuration
MAILGUN_DOMAIN=your-mailgun-domain.com
MAILGUN_SECRET=your-mailgun-secret-key
MAILGUN_ENDPOINT=api.mailgun.net

# Set Laravel to use Mailgun
MAIL_MAILER=mailgun
MAIL_FROM_ADDRESS=welcome@blockchain-analytics.com
MAIL_FROM_NAME="AI Blockchain Analytics Team"

# Onboarding Email Settings
ONBOARDING_ENABLED=true
ONBOARDING_FROM_EMAIL=welcome@blockchain-analytics.com
ONBOARDING_FROM_NAME="AI Blockchain Analytics Team"
ONBOARDING_REPLY_TO=support@blockchain-analytics.com

# Email Queue Configuration
ONBOARDING_QUEUE=emails
ONBOARDING_QUEUE_CONNECTION=redis

# Email Tracking and Analytics
ONBOARDING_TRACK_OPENS=true
ONBOARDING_TRACK_CLICKS=true
ONBOARDING_TRACK_UNSUBSCRIBES=true
ONBOARDING_TRACK_CONVERSIONS=true

# Webhook Configuration (for Mailgun event tracking)
MAILGUN_WEBHOOK_SIGNING_KEY=your-webhook-signing-key

# A/B Testing (optional)
ONBOARDING_AB_TESTING=false

# Rate Limiting
MAILGUN_ONBOARDING_ENABLED=true

# Development/Testing Settings
# Set to false in production
ONBOARDING_WEBHOOKS_ENABLED=true
ONBOARDING_GA_ENABLED=false
ONBOARDING_MIXPANEL_ENABLED=false
ONBOARDING_CRM_SYNC=false

# =============================================================================
# Additional Email Preferences (optional)
# =============================================================================

# Email Template Settings
MAILGUN_FROM_EMAIL=welcome@blockchain-analytics.com
MAILGUN_FROM_NAME="AI Blockchain Analytics Team"
MAILGUN_REPLY_TO=support@blockchain-analytics.com

# Sending Rate Limits
MAILGUN_ONBOARDING_RATE_LIMIT_HOUR=100
MAILGUN_ONBOARDING_RATE_LIMIT_DAY=1000

# Email Content Settings
MAILGUN_SAMPLE_RATE=0.1
MAILGUN_TRACES_SAMPLE_RATE=0.05
MAILGUN_SEND_DEFAULT_PII=false

# =============================================================================
# Setup Instructions
# =============================================================================

# 1. Sign up for Mailgun account at https://www.mailgun.com/
# 2. Add and verify your domain
# 3. Get your API key from Mailgun dashboard
# 4. Set up webhook endpoints in Mailgun:
#    - Events: delivered, opened, clicked, unsubscribed, complained, bounced
#    - URL: https://yourdomain.com/api/webhooks/mailgun/events
# 5. Generate webhook signing key in Mailgun
# 6. Copy this file to .env and fill in your actual values
# 7. Run: php artisan config:cache

# =============================================================================
# Webhook URLs to configure in Mailgun Dashboard
# =============================================================================

# Main webhook endpoint:
# https://yourdomain.com/api/webhooks/mailgun/events

# Individual event endpoints (optional):
# https://yourdomain.com/api/webhooks/mailgun/delivered
# https://yourdomain.com/api/webhooks/mailgun/opened
# https://yourdomain.com/api/webhooks/mailgun/clicked
# https://yourdomain.com/api/webhooks/mailgun/unsubscribed
# https://yourdomain.com/api/webhooks/mailgun/complained
# https://yourdomain.com/api/webhooks/mailgun/bounced

# =============================================================================
# Testing Your Setup
# =============================================================================

# 1. Register a new user account
# 2. Check logs: tail -f storage/logs/laravel.log
# 3. Check email queue: php artisan queue:work
# 4. Check Mailgun dashboard for delivery status
# 5. Test webhooks with Mailgun's webhook testing tool
